let path,readFileSync,writeFileSync;_451‍.x([["checkPackageJson",()=>checkPackageJson],["addScriptToPackageJson",()=>addScriptToPackageJson]]);_451‍.w("path",[["default",["path"],function(v){path=v}]]);_451‍.w("jsonfile",[["readFileSync",["readFileSync"],function(v){readFileSync=v}],["writeFileSync",["writeFileSync"],function(v){writeFileSync=v}]]);


       function checkPackageJson({ command, script, appDir = process.cwd() } = {}) {
  const packageJson = readFileSync(path.resolve(appDir, './package.json'));

  return Object.entries(packageJson.scripts || {}).find(
    ([key, value]) => value.match(command) || key === script
  );
}

       function addScriptToPackageJson(scriptName, scriptCommand, { appDir = process.cwd() } = {}) {
  const filename = path.resolve(appDir, './package.json');
  const packageJson = readFileSync(filename);

  if (packageJson[scriptName]) {
    throw new Error(`Script named '${scriptName}' already exists in package.json`);
  }

  if (!packageJson.scripts) {
    packageJson.scripts = {};
  }
  packageJson.scripts[scriptName] = scriptCommand;
  writeFileSync(filename, packageJson, { spaces: 2 });
}
